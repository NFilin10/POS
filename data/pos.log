/*C11*/SET SCHEMA PUBLIC
drop table if exists Purchase CASCADE 
drop table if exists Purchase_SoldItem CASCADE 
drop table if exists SoldItem CASCADE 
drop table if exists StockItem CASCADE 
drop sequence hibernate_sequence if exists
create sequence hibernate_sequence start with 1 increment by 1
create table Purchase (id bigint not null, price double, primary key (id))
create table Purchase_SoldItem (Purchase_id bigint not null, items_id bigint not null)
create table SoldItem (id bigint not null, name varchar(255), price double, quantity integer, stockItem_id bigint, primary key (id))
create table StockItem (id bigint not null, name varchar(255), price double, quantity integer, primary key (id))
alter table Purchase_SoldItem add constraint UK_2mxstqfvnsb6v16dympr5bosq unique (items_id)
alter table Purchase_SoldItem add constraint FKdtoutrs1wavgi7mwe5xl7raeh foreign key (items_id) references SoldItem
alter table Purchase_SoldItem add constraint FKadopm5srj6jsfmcgfgh5ba5sl foreign key (Purchase_id) references Purchase
alter table SoldItem add constraint FK30u1km29fqccfnlvigl1kjjrq foreign key (stockItem_id) references StockItem
INSERT INTO STOCKITEM VALUES(1,'Lays chips',11.0E0,5)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 2
COMMIT
INSERT INTO STOCKITEM VALUES(2,'Chupa-chups',8.0E0,8)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 3
COMMIT
INSERT INTO STOCKITEM VALUES(3,'Frankfurters',15.0E0,12)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 4
COMMIT
INSERT INTO STOCKITEM VALUES(4,'Free Beer',0.0E0,100)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 5
COMMIT
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
drop table if exists Purchase CASCADE 
drop table if exists Purchase_SoldItem CASCADE 
drop table if exists SoldItem CASCADE 
drop table if exists StockItem CASCADE 
drop sequence hibernate_sequence if exists
create sequence hibernate_sequence start with 1 increment by 1
create table Purchase (id bigint not null, price double, primary key (id))
create table Purchase_SoldItem (Purchase_id bigint not null, items_id bigint not null)
create table SoldItem (id bigint not null, name varchar(255), price double, quantity integer, stockItem_id bigint, primary key (id))
create table StockItem (id bigint not null, name varchar(255), price double, quantity integer, primary key (id))
alter table Purchase_SoldItem add constraint UK_2mxstqfvnsb6v16dympr5bosq unique (items_id)
alter table Purchase_SoldItem add constraint FKdtoutrs1wavgi7mwe5xl7raeh foreign key (items_id) references SoldItem
alter table Purchase_SoldItem add constraint FKadopm5srj6jsfmcgfgh5ba5sl foreign key (Purchase_id) references Purchase
alter table SoldItem add constraint FK30u1km29fqccfnlvigl1kjjrq foreign key (stockItem_id) references StockItem
INSERT INTO STOCKITEM VALUES(1,'Lays chips',11.0E0,5)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 2
COMMIT
INSERT INTO STOCKITEM VALUES(2,'Chupa-chups',8.0E0,8)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 3
COMMIT
INSERT INTO STOCKITEM VALUES(3,'Frankfurters',15.0E0,12)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 4
COMMIT
INSERT INTO STOCKITEM VALUES(4,'Free Beer',0.0E0,1000)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 5
COMMIT
DISCONNECT
